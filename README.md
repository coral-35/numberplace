# 数独（ナンプレ）ソリューション生成ツール

このツールは、有効な数独（ナンプレ）の解答盤面を大量に生成するためのものです。各盤面は、縦・横・3x3ブロックのそれぞれに1〜9の数字が重複なく配置されています。

## 特徴

- 高速な数独解答盤面の生成
- マルチプロセスによる並列処理で生成速度を向上
- 基本盤面の変換による多様な解答盤面の生成
- 進捗状況のリアルタイム表示
- CSVファイルへの自動保存機能

## 使い方

### 基本的な使用方法

```bash
python fast_sudoku_generator.py
```

デフォルトでは、10,000個の解答盤面を生成し、CSVファイルに保存します。

### コマンドラインオプション

```bash
python fast_sudoku_generator.py --count 50000 --workers 4 --batch 2000 --output ./solutions
```

- `--count`: 生成する解答盤面の数（デフォルト: 10000）
- `--workers`: 使用するワーカープロセスの数（デフォルト: CPUコア数）
- `--batch`: 一度に保存する解答盤面のバッチサイズ（デフォルト: 1000）
- `--output`: 解答盤面を保存するディレクトリ（デフォルト: スクリプトと同じディレクトリ）
- `--sample`: サンプルの解答盤面を数個表示して終了

### サンプル盤面の表示

```bash
python fast_sudoku_generator.py --sample
```

## 生成アルゴリズム

このツールは以下の方法で数独解答盤面を生成します：

1. 基本となる有効な数独解答盤面を生成（バックトラッキングアルゴリズム使用）
2. 基本盤面に対して以下の変換を適用して新しい盤面を生成：
   - 数字の置換（1〜9の数字をランダムに入れ替え）
   - 同じブロック内の行の入れ替え
   - 同じブロック内の列の入れ替え
   - 3x3ブロック単位での行ブロックの入れ替え
   - 3x3ブロック単位での列ブロックの入れ替え
   - 盤面の転置（行と列を入れ替え）

これらの変換は数独のルールを保持したまま、多様な解答盤面を効率的に生成します。

## 出力形式

生成された解答盤面は、以下の形式でCSVファイルに保存されます：

- ファイル名: `sudoku_solutions_{ワーカーID}_{バッチ番号}.csv`
- 各行は1つの解答盤面を表し、81桁の数字文字列（左上から右下への行優先順）として保存

## パフォーマンス

マルチプロセス処理により、CPUコア数に応じた並列処理が可能です。生成速度は使用するコンピュータの性能に依存しますが、一般的に1秒あたり数百〜数千の解答盤面を生成できます。
